<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Register</title>
<link rel="stylesheet" href="styles.css">
</head>
<body>
<div class="card">
    <div class="enter1">
        <h4>Welcome to MyCityHome</h4>
        <div class="image3">
        <img src="https://www.tucasa.com/logos/logo2810864.gif" alt="image" width="320" height="200"/>
    </div>
    <div class="register-container">
        <h2>Register</h2>
        <h4>Enter your information</h4>
        <form id="registerForm" action="https://script.google.com/macros/s/AKfycbwr9ZSokA4JDrWK-My5n0EVMttYabRGsYK2AmkO_LaTwqhpITfLNvPORhdeyTtFmVmRzQ/exec" method="post" onsubmit="submitForm(event)">
            <label for="email"><b>Email</b></label>
            <input type="email" id="email" name="email" placeholder="Email" required>
            
            <label for="dni"><b>DNI</b></label>
            <input type="text" id="dni" name="dni" placeholder="DNI" required>
            
            <button type="submit">Register</button>
        </form>
        <p id="registerMessage"></p>
    </div>
    </div>
</div>
<script>
    function submitForm(event) {
        event.preventDefault(); // Prevent the form from submitting normally

        // Fetch form data
        const formData = new FormData(document.getElementById('registerForm'));
        const email = formData.get('email');
        const dni = formData.get('dni');

        // Perform AJAX submission to Google Apps Script
        fetch('https://script.google.com/macros/s/AKfycbwr9ZSokA4JDrWK-My5n0EVMttYabRGsYK2AmkO_LaTwqhpITfLNvPORhdeyTtFmVmRzQ/exec', {
            method: 'POST',
            body: formData
        })
        .then(response => {
            if (response.ok) {
                // Redirect to the next page
                window.location.href = '1Login.html'; // Replace with your desired URL
            } else {
                console.error('Error submitting form');
            }
        })
        .catch(error => console.error('Error:', error));
    }
</script>

</body>
</html>
